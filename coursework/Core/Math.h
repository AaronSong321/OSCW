//
// Created by Dimanche on 07/02/2021.
//

#ifndef CORE_MATH_H
#define CORE_MATH_H

namespace Commons::Math {
    template <class T> struct MathFunctionProvider {
    private:
        static constexpr double logTable[] {-1,
            0, 0.693147, 1.09861, 1.38629, 1.60944, 1.79176, 1.94591, 2.07944, 2.19722, 2.30259, 2.3979, 2.48491, 2.56495, 2.63906, 2.70805, 2.77259, 2.83321, 2.89037, 2.94444, 2.99573, 3.04452, 3.09104, 3.13549, 3.17805, 3.21888, 3.2581, 3.29584, 3.3322, 3.3673, 3.4012,
            3.43399, 3.46574, 3.49651, 3.52636, 3.55535, 3.58352, 3.61092, 3.63759, 3.66356, 3.68888, 3.71357, 3.73767, 3.7612, 3.78419, 3.80666, 3.82864, 3.85015, 3.8712, 3.89182, 3.91202, 3.93183, 3.95124, 3.97029, 3.98898, 4.00733, 4.02535, 4.04305, 4.06044, 4.07754, 4.09434,
            4.11087, 4.12713, 4.14313, 4.15888, 4.17439, 4.18965, 4.20469, 4.21951, 4.23411, 4.2485, 4.26268, 4.27667, 4.29046, 4.30407, 4.31749, 4.33073, 4.34381, 4.35671, 4.36945, 4.38203, 4.39445, 4.40672, 4.41884, 4.43082, 4.44265, 4.45435, 4.46591, 4.47734, 4.48864, 4.49981,
            4.51086, 4.52179, 4.5326, 4.54329, 4.55388, 4.56435, 4.57471, 4.58497, 4.59512, 4.60517, 4.61512, 4.62497, 4.63473, 4.64439, 4.65396, 4.66344, 4.67283, 4.68213, 4.69135, 4.70048, 4.70953, 4.7185, 4.72739, 4.7362, 4.74493, 4.75359, 4.76217, 4.77068, 4.77912, 4.78749,
            4.79579, 4.80402, 4.81218, 4.82028, 4.82831, 4.83628, 4.84419, 4.85203, 4.85981, 4.86753, 4.8752, 4.8828, 4.89035, 4.89784, 4.90527, 4.91265, 4.91998, 4.92725, 4.93447, 4.94164, 4.94876, 4.95583, 4.96284, 4.96981, 4.97673, 4.98361, 4.99043, 4.99721, 5.00395, 5.01064,
            5.01728, 5.02388, 5.03044, 5.03695, 5.04343, 5.04986, 5.05625, 5.0626, 5.0689, 5.07517, 5.0814, 5.0876, 5.09375, 5.09987, 5.10595, 5.11199, 5.11799, 5.12396, 5.1299, 5.1358, 5.14166, 5.14749, 5.15329, 5.15906, 5.16479, 5.17048, 5.17615, 5.18178, 5.18739, 5.19296,
            5.1985, 5.20401, 5.20949, 5.21494, 5.22036, 5.22575, 5.23111, 5.23644, 5.24175, 5.24702, 5.25227, 5.2575, 5.26269, 5.26786, 5.273, 5.27811, 5.2832, 5.28827, 5.2933, 5.29832, 5.3033, 5.30827, 5.31321, 5.31812, 5.32301, 5.32788, 5.33272, 5.33754, 5.34233, 5.34711,
            5.35186, 5.35659, 5.36129, 5.36598, 5.37064, 5.37528, 5.3799, 5.3845, 5.38907, 5.39363, 5.39816, 5.40268, 5.40717, 5.41165, 5.4161, 5.42053, 5.42495, 5.42935, 5.43372, 5.43808, 5.44242, 5.44674, 5.45104, 5.45532, 5.45959, 5.46383, 5.46806, 5.47227, 5.47646, 5.48064,
            5.4848, 5.48894, 5.49306, 5.49717, 5.50126, 5.50533, 5.50939, 5.51343, 5.51745, 5.52146, 5.52545, 5.52943, 5.53339, 5.53733, 5.54126, 5.54518, 5.54908, 5.55296, 5.55683, 5.56068, 5.56452, 5.56834, 5.57215, 5.57595, 5.57973, 5.5835, 5.58725, 5.59099, 5.59471, 5.59842,
            5.60212, 5.6058, 5.60947, 5.61313, 5.61677, 5.6204, 5.62402, 5.62762, 5.63121, 5.63479, 5.63835, 5.64191, 5.64545, 5.64897, 5.65249, 5.65599, 5.65948, 5.66296, 5.66643, 5.66988, 5.67332, 5.67675, 5.68017, 5.68358, 5.68698, 5.69036, 5.69373, 5.69709, 5.70044, 5.70378,
            5.70711, 5.71043, 5.71373, 5.71703, 5.72031, 5.72359, 5.72685, 5.7301, 5.73334, 5.73657, 5.73979, 5.743, 5.7462, 5.74939, 5.75257, 5.75574, 5.7589, 5.76205, 5.76519, 5.76832, 5.77144, 5.77455, 5.77765, 5.78074, 5.78383, 5.7869, 5.78996, 5.79301, 5.79606, 5.79909,
            5.80212, 5.80513, 5.80814, 5.81114, 5.81413, 5.81711, 5.82008, 5.82305, 5.826, 5.82895, 5.83188, 5.83481, 5.83773, 5.84064, 5.84354, 5.84644, 5.84932, 5.8522, 5.85507, 5.85793, 5.86079, 5.86363, 5.86647, 5.8693, 5.87212, 5.87493, 5.87774, 5.88053, 5.88332, 5.8861,
            5.88888, 5.89164, 5.8944, 5.89715, 5.8999, 5.90263, 5.90536, 5.90808, 5.9108, 5.9135, 5.9162, 5.91889, 5.92158, 5.92426, 5.92693, 5.92959, 5.93225, 5.93489, 5.93754, 5.94017, 5.9428, 5.94542, 5.94803, 5.95064, 5.95324, 5.95584, 5.95842, 5.96101, 5.96358, 5.96615,
            5.96871, 5.97126, 5.97381, 5.97635, 5.97889, 5.98141, 5.98394, 5.98645, 5.98896, 5.99146, 5.99396, 5.99645, 5.99894, 6.00141, 6.00389, 6.00635, 6.00881, 6.01127, 6.01372, 6.01616, 6.01859, 6.02102, 6.02345, 6.02587, 6.02828, 6.03069, 6.03309, 6.03548, 6.03787, 6.04025,
            6.04263, 6.04501, 6.04737, 6.04973, 6.05209, 6.05444, 6.05678, 6.05912, 6.06146, 6.06379, 6.06611, 6.06843, 6.07074, 6.07304, 6.07535, 6.07764, 6.07993, 6.08222, 6.0845, 6.08677, 6.08904, 6.09131, 6.09357, 6.09582, 6.09807, 6.10032, 6.10256, 6.10479, 6.10702, 6.10925,
            6.11147, 6.11368, 6.11589, 6.1181, 6.1203, 6.12249, 6.12468, 6.12687, 6.12905, 6.13123, 6.1334, 6.13556, 6.13773, 6.13988, 6.14204, 6.14419, 6.14633, 6.14847, 6.1506, 6.15273, 6.15486, 6.15698, 6.1591, 6.16121, 6.16331, 6.16542, 6.16752, 6.16961, 6.1717, 6.17379,
            6.17587, 6.17794, 6.18002, 6.18208, 6.18415, 6.18621, 6.18826, 6.19032, 6.19236, 6.19441, 6.19644, 6.19848, 6.20051, 6.20254, 6.20456, 6.20658, 6.20859, 6.2106, 6.21261, 6.21461, 6.21661, 6.2186, 6.22059, 6.22258, 6.22456, 6.22654, 6.22851, 6.23048, 6.23245, 6.23441,
            6.23637, 6.23832, 6.24028, 6.24222, 6.24417, 6.24611, 6.24804, 6.24998, 6.2519, 6.25383, 6.25575, 6.25767, 6.25958, 6.26149, 6.2634, 6.2653, 6.2672, 6.2691, 6.27099, 6.27288, 6.27476, 6.27664, 6.27852, 6.2804, 6.28227, 6.28413, 6.286, 6.28786, 6.28972, 6.29157,
            6.29342, 6.29527, 6.29711, 6.29895, 6.30079, 6.30262, 6.30445, 6.30628, 6.3081, 6.30992, 6.31173, 6.31355, 6.31536, 6.31716, 6.31897, 6.32077, 6.32257, 6.32436, 6.32615, 6.32794, 6.32972, 6.3315, 6.33328, 6.33505, 6.33683, 6.33859, 6.34036, 6.34212, 6.34388, 6.34564,
            6.34739, 6.34914, 6.35089, 6.35263, 6.35437, 6.35611, 6.35784, 6.35957, 6.3613, 6.36303, 6.36475, 6.36647, 6.36819, 6.3699, 6.37161, 6.37332, 6.37502, 6.37673, 6.37843, 6.38012, 6.38182, 6.38351, 6.38519, 6.38688, 6.38856, 6.39024, 6.39192, 6.39359, 6.39526, 6.39693,
            6.39859, 6.40026, 6.40192, 6.40357, 6.40523, 6.40688, 6.40853, 6.41017, 6.41182, 6.41346, 6.4151, 6.41673, 6.41836, 6.41999, 6.42162, 6.42325, 6.42487, 6.42649, 6.42811, 6.42972, 6.43133, 6.43294, 6.43455, 6.43615, 6.43775, 6.43935, 6.44095, 6.44254, 6.44413, 6.44572,
            6.44731, 6.44889, 6.45047, 6.45205, 6.45362, 6.4552, 6.45677, 6.45834, 6.4599, 6.46147, 6.46303, 6.46459, 6.46614, 6.4677, 6.46925, 6.4708, 6.47235, 6.47389, 6.47543, 6.47697, 6.47851, 6.48004, 6.48158, 6.48311, 6.48464, 6.48616, 6.48768, 6.4892, 6.49072, 6.49224,
            6.49375, 6.49527, 6.49677, 6.49828, 6.49979, 6.50129, 6.50279, 6.50429, 6.50578, 6.50728, 6.50877, 6.51026, 6.51175, 6.51323, 6.51471, 6.51619, 6.51767, 6.51915, 6.52062, 6.52209, 6.52356, 6.52503, 6.52649, 6.52796, 6.52942, 6.53088, 6.53233, 6.53379, 6.53524, 6.53669,
            6.53814, 6.53959, 6.54103, 6.54247, 6.54391, 6.54535, 6.54679, 6.54822, 6.54965, 6.55108, 6.55251, 6.55393, 6.55536, 6.55678, 6.5582, 6.55962, 6.56103, 6.56244, 6.56386, 6.56526, 6.56667, 6.56808, 6.56948, 6.57088, 6.57228, 6.57368, 6.57508, 6.57647, 6.57786, 6.57925,
            6.58064, 6.58203, 6.58341, 6.58479, 6.58617, 6.58755, 6.58893, 6.5903, 6.59167, 6.59304, 6.59441, 6.59578, 6.59715, 6.59851, 6.59987, 6.60123, 6.60259, 6.60394, 6.6053, 6.60665, 6.608, 6.60935, 6.6107, 6.61204, 6.61338, 6.61473, 6.61607, 6.6174, 6.61874, 6.62007,
            6.62141, 6.62274, 6.62407, 6.62539, 6.62672, 6.62804, 6.62936, 6.63068, 6.632, 6.63332, 6.63463, 6.63595, 6.63726, 6.63857, 6.63988, 6.64118, 6.64249, 6.64379, 6.64509, 6.64639, 6.64769, 6.64898, 6.65028, 6.65157, 6.65286, 6.65415, 6.65544, 6.65673, 6.65801, 6.65929,
            6.66058, 6.66185, 6.66313, 6.66441, 6.66568, 6.66696, 6.66823, 6.6695, 6.67077, 6.67203, 6.6733, 6.67456, 6.67582, 6.67708, 6.67834, 6.6796, 6.68085, 6.68211, 6.68336, 6.68461, 6.68586, 6.68711, 6.68835, 6.6896, 6.69084, 6.69208, 6.69332, 6.69456, 6.6958, 6.69703,
            6.69827, 6.6995, 6.70073, 6.70196, 6.70319, 6.70441, 6.70564, 6.70686, 6.70808, 6.7093, 6.71052, 6.71174, 6.71296, 6.71417, 6.71538, 6.71659, 6.7178, 6.71901, 6.72022, 6.72143, 6.72263, 6.72383, 6.72503, 6.72623, 6.72743, 6.72863, 6.72982, 6.73102, 6.73221, 6.7334,
            6.73459, 6.73578, 6.73697, 6.73815, 6.73934, 6.74052, 6.7417, 6.74288, 6.74406, 6.74524, 6.74641, 6.74759, 6.74876, 6.74993, 6.7511, 6.75227, 6.75344, 6.7546, 6.75577, 6.75693, 6.75809, 6.75926, 6.76041, 6.76157, 6.76273, 6.76388, 6.76504, 6.76619, 6.76734, 6.76849,
            6.76964, 6.77079, 6.77194, 6.77308, 6.77422, 6.77537, 6.77651, 6.77765, 6.77878, 6.77992, 6.78106, 6.78219, 6.78333, 6.78446, 6.78559, 6.78672, 6.78784, 6.78897, 6.7901, 6.79122, 6.79234, 6.79347, 6.79459, 6.79571, 6.79682, 6.79794, 6.79906, 6.80017, 6.80128, 6.80239,
        };
    public:
        static constexpr double Log(int v) {
            return logTable[v];
        }
    };
}

#endif //CORE_MATH_H
